var demos;var currentDemo;var currentDemoName;var detailsDiv;var demoRect;var contentRect;function resizeHandler(){forceHideDemo()}function forceHideDemo(){if(lightBox.isOpen()){hideDemo(true)}}function lightBoxOverlayDivClick(){hideDemo()}function lightBoxNextDemoClickHandler(){var a=demos.indexOf(currentDemoName);a=a<demos.length-1?a+1:0;tearDownDemo();setUpDemo(demos[a]);location.hash=demos[a];if(location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1){ga("send","event","nextDemo")}}function lightBoxPreviousDemoClickHandler(){var a=demos.indexOf(currentDemoName);a=a>0?a-1:demos.length-1;tearDownDemo();setUpDemo(demos[a]);location.hash=demos[a];if(location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1){ga("send","event","previousDemo")}}function lightBoxResetDemoClickHandler(){tearDownDemo();setUpDemo(currentDemoName);if(location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1){ga("send","event","resetDemo",demoName)}}var lightBoxWidth=700;var lightBoxHeight=400;var lightBoxVerticalLayoutHeight=600;var demoSize=400;function showDemo(b){var a=viewportSize();contentRect=new SimpleGeometry.Rectangle();demoRect=new SimpleGeometry.Rectangle(0,0,demoSize,demoSize);if(a.width<lightBoxWidth&&a.height<lightBoxWidth){alert("Sorry, your screen is too small to show this demo :(");return}if(isHorizontalLayout()){contentRect.x=a.width/2-lightBoxWidth/2;contentRect.y=a.height/2-lightBoxHeight/2;contentRect.width=lightBoxWidth;contentRect.height=lightBoxHeight}else{contentRect.x=a.width/2-lightBoxHeight/2;contentRect.y=a.height/2-lightBoxWidth/2;contentRect.width=lightBoxHeight;contentRect.height=lightBoxVerticalLayoutHeight}currentDemoName=b;lightBox.open(contentRect)}function setUpDemo(a){currentDemoName=a;currentDemo=new this[a+"Demo"](demoRect.x,demoRect.y,demoRect.width,demoRect.height,lightBox.contentDiv);currentDemo.run();var c=10;detailsDiv=document.createElement("div");detailsDiv.style.position="absolute";if(isHorizontalLayout()){detailsDiv.style.left=(c+demoRect.width)+"px";detailsDiv.style.top=c+"px";detailsDiv.style.width=(contentRect.width-demoRect.width-c*2)+"px";detailsDiv.style.height=(contentRect.height-c*2)+"px"}else{detailsDiv.style.left=c+"px";detailsDiv.style.top=(c+demoRect.height)+"px";detailsDiv.style.width=(contentRect.width-c*2)+"px";detailsDiv.style.height=(contentRect.height-demoRect.height-c*2)+"px"}detailsDiv.style.fontFamily="Sans-serif";var b="<h2 class='demoTitle' >"+a+"</h2><p style='padding-top:20px'>"+currentDemo.toolTip+"</p>";b+="<p class='lightboxControls' ><a href = 'javascript:void(0)' onclick = 'lightBoxPreviousDemoClickHandler()'>Previous</a>";b+="<a href = 'javascript:void(0)' onclick = 'lightBoxResetDemoClickHandler()' style='padding-left:20px'>Reset</a>";b+="<a href = 'javascript:void(0)' onclick = 'lightBoxNextDemoClickHandler()' style='padding-left:20px'>Next</a></p>";detailsDiv.innerHTML=b;lightBox.setContent(detailsDiv);if(location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1){ga("send","event","DemoView",a)}}function tearDownDemo(){if(currentDemo){currentDemo.tearDown()}if(detailsDiv){lightBox.removeContent(detailsDiv)}}function hideDemo(a){if(a){lightBox.forceClose()}else{lightBox.close()}}function lightBoxOpenComplete(){setUpDemo(currentDemoName)}function lightBoxBeginClose(){tearDownDemo();location.hash=""}function setUpDemosMenu(){demos=[];var d=document.getElementById("demos");var c=d.getElementsByTagName("a");var a=d.getElementsByTagName("img");for(var b=0;b<c.length;b++){c[b].onclick=demoLinkClickHandler;demos[b]=getDemoFromHash(c[b].hash);a[b].onmouseover=showGif;a[b].onmouseout=showPng}}function showGif(b){var c=b.target.src.split("/");var a=c[c.length-1].split(".png")[0];c[c.length-1]=a+".gif";b.target.src=c.join("/")}function showPng(b){var c=b.target.src.split("/");var a=c[c.length-1].split(".gif")[0];c[c.length-1]=a+".png";b.target.src=c.join("/")}function getDemoFromHash(a){return a.split("#")[1]}function demoLinkClickHandler(a){showDemo(getDemoFromHash(a.currentTarget.hash))}function init(){setUpDemosMenu();lightBox=new DSLightBox(undefined,lightBoxOpenComplete,lightBoxBeginClose);if(!window.location.hash){return}var a=getDemoFromHash(window.location.hash);if(demos.indexOf(a)>-1){showDemo(a)}window.onscroll=function(){forceHideDemo()}}var readyStateCheckInterval=setInterval(function(){if(document.readyState==="complete"){mailNode=document.getElementById("subscriber");init();clearInterval(readyStateCheckInterval)}},10);