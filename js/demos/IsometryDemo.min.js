!function(a){var b=function(a,b,c,d,e){AbstractDemo.call(this,a,b,c,d,e),this.gifPlaybackFrameRate=100,this.captureFrameRate=400};b.prototype=Object.create(AbstractDemo.prototype),b.prototype.constructor=AbstractDemo,b.prototype.run=function(){this.loadImagesWithImageStore(["assets/tinyLogo.png"])},b.prototype.useLoadedImageStoreImages=function(){var a=this.imageStore.images[0],b=document.createElement("canvas"),c=b.getContext("2d");c.drawImage(a,0,0);var d=c.getImageData(0,0,a.width,a.height);this.space=new IsometricSpaceLeft(this.width,this.height,200,140,200),this.squares=[];for(var e,f,g=0;10>g;g++)for(var h=0;10>h;h++)e=new IsometricSquare(this.context2d,this.space,.1*g,0,.9-.1*h,.1,Math.random(),.1),f=4*g*d.width+4*h,e.setLeftPlaneStyle(DSColors.GREEN,1,"000000",1,1),e.setRightPlaneStyle(DSColors.GREEN,1,"000000",1,1),e.setTopPlaneStyle(d.data[f]>0?DSColors.LIGHT_GREEN:DSColors.ORANGE,1,"000000",1,1),this.squares.push(e);this.animator=new UnitAnimator,this.radian=0,this.reStartWave()},b.prototype.animationComplete=function(){this.captureCompleteCallBack&&this.captureCompleteCallBack(),this.reStartWave()},b.prototype.reStartWave=function(){var a=this;this.animator.reset(1e3+1e3*Math.random(),20,function(){a.animationUpdate()},function(){a.animationComplete()}),this.animator.start()},b.prototype.animationUpdate=function(){this.clear(),this.radian=SimpleGeometry.PI2*this.animator.getAnimationPercent();for(var a,b,c=SimpleGeometry.PI2/10,d=0;10>d;d++)for(var e=0;10>e;e++)square=this.squares[10*d+e],a=.25+(1+Math.cos(this.radian+d*c))/6,b=.25+(1+Math.sin(this.radian+e*c))/6,square.setHeight((a+b)/2),square.render()},b.prototype.customTearDown=function(){delete this.blockSetAnimator},a.IsometryDemo=b}(window);