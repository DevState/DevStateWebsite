(function(a){SimpleLoaderGraphic=function(c,f,b,d,e){SimpleGeometry.Circle.call(this,c,f,b);this.updateHandler=d;this.arcLength=isNaN(e)?Math.PI*0.8:e;this.loadingTextFillStyle="#CCCCCC";this.loadingText="";this.lineWidth=14;this.frameRate=25;this.velocity=0.1;this.intervalId=-1;this.linearGradientStart=new SimpleGeometry.Point();this.linearGradientEnd=new SimpleGeometry.Point()};SimpleLoaderGraphic.prototype=Object.create(SimpleGeometry.Circle.prototype);SimpleLoaderGraphic.prototype.constructor=SimpleGeometry.Circle;SimpleLoaderGraphic.prototype.startStrokeGradientColor=SimpleGeometry.getRgbaStyleString(204,204,204,0);SimpleLoaderGraphic.prototype.setStrokeStartColor=function(e,c,b,d){this.startStrokeGradientColor=SimpleGeometry.getRgbaStyleString(e,c,b,d)};SimpleLoaderGraphic.prototype.endStrokeGradientColor=SimpleGeometry.getRgbaStyleString(204,204,204,1);SimpleLoaderGraphic.prototype.setEndStartColor=function(e,c,b,d){this.endStrokeGradientColor=SimpleGeometry.getRgbaStyleString(e,c,b,d)};SimpleLoaderGraphic.prototype.play=function(){this.radian=0;var b=this;this.intervalId=setInterval(function(){b.rotate()},this.frameRate)};SimpleLoaderGraphic.prototype.pause=function(){if(!isNaN(this.intervalId)){clearInterval(this.intervalId)}this.updateHandler=undefined;delete this.intervalId};SimpleLoaderGraphic.prototype.rotate=function(){this.radian+=this.velocity;this.radian=SimpleGeometry.constrainRadianTo2PI(this.radian);if(this.updateHandler){this.updateHandler()}};SimpleLoaderGraphic.prototype.render=function(b){b.beginPath();this.linearGradientStart.x=this.x+Math.cos(this.radian)*(this.radius+10);this.linearGradientStart.y=this.y+Math.sin(this.radian)*(this.radius+10);this.linearGradientEnd.x=this.x+Math.cos(this.radian+this.arcLength)*(this.radius+10);this.linearGradientEnd.y=this.y+Math.sin(this.radian+this.arcLength)*(this.radius+10);var d=b.createLinearGradient(this.linearGradientStart.x,this.linearGradientStart.y,this.linearGradientEnd.x,this.linearGradientEnd.y);d.addColorStop(0,this.startStrokeGradientColor);d.addColorStop(1,this.endStrokeGradientColor);b.strokeStyle=d;b.lineWidth=this.lineWidth;b.lineCap="round";b.arc(this.x,this.y,this.radius,this.radian,this.radian+this.arcLength);b.stroke();b.closePath();if(this.loadingText==""){return}b.textBaseline="top";b.fillStyle=this.loadingTextFillStyle;b.font="30px 'sf_collegiate_solidregular'";var c=b.measureText(this.loadingText);b.fillText(this.loadingText,this.x-c.width/2,this.y+this.radius+this.lineWidth)};a.SimpleLoaderGraphic=SimpleLoaderGraphic}(window));