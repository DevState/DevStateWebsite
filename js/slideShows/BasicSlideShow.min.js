!function(a){BasicSlideShow=function(a,b,c,d,e,f){SimpleGeometry.Rectangle.call(this,a,b,c,d),this.context2d=e,f&&this.setImages(f),this.animator=new UnitAnimator,this.arrows=new ArrowButtons(this,25,35,20),this.arrows.strokeStyle=SimpleGeometry.getRgbaStyleString(0,0,0,.8),this.arrows.fillStyle=SimpleGeometry.getRgbaStyleString(255,255,255,.5),this.currentIndex=0},BasicSlideShow.prototype=Object.create(SimpleGeometry.Rectangle.prototype),BasicSlideShow.prototype.constructor=SimpleGeometry.Rectangle,BasicSlideShow.NEXT_DIRECTION=-1,BasicSlideShow.PREV_DIRECTION=1,BasicSlideShow.prototype.next=function(){this.animator.isAnimating()||this.hasNext()&&this.slide(BasicSlideShow.NEXT_DIRECTION)},BasicSlideShow.prototype.previous=function(){this.animator.isAnimating()||this.hasPrevious()&&this.slide(BasicSlideShow.PREV_DIRECTION)},BasicSlideShow.prototype.hasNext=function(){return this.images&&this.currentIndex<this.images.length-1},BasicSlideShow.prototype.hasPrevious=function(){return this.images&&this.currentIndex>0},BasicSlideShow.prototype.setImages=function(a){this.images=a;document.createElement("canvas");this.currentIndex=0,this.skipToIndex(this.currentIndex)},BasicSlideShow.prototype.skipToIndex=function(a){this.context2d.drawImage(this.images[a],this.x,this.y,this.width,this.height),this.currentIndex=a,this.arrows.render(this.context2d,!this.hasPrevious(),!this.hasNext())},BasicSlideShow.prototype.slide=function(a){this.slideDirection=a,a==BasicSlideShow.NEXT_DIRECTION?(this.leftImage=this.images[this.currentIndex],this.rightImage=this.images[this.currentIndex+1]):(this.leftImage=this.images[this.currentIndex-1],this.rightImage=this.images[this.currentIndex]);var b=this;this.animator.reset(1e3,20,function(){b.updateSlide()},function(){b.slideComplete()}),this.animator.start()},BasicSlideShow.prototype.updateSlide=function(){this.slideDirection==BasicSlideShow.NEXT_DIRECTION?this.updateSlideNext():this.updateSlidePrevious()},BasicSlideShow.prototype.updateSlideNext=function(){var a=this.leftImage.width*this.animator.getAnimationPercent(),b=this.width*this.animator.getAnimationPercent();b<this.width&&this.context2d.drawImage(this.leftImage,a,0,this.leftImage.width-a,this.leftImage.height,this.x,this.y,this.width-b,this.height),this.context2d.drawImage(this.rightImage,0,0,a,this.rightImage.height,this.getRight()-b,this.y,b,this.height)},BasicSlideShow.prototype.updateSlidePrevious=function(){var a=this.leftImage.width-this.leftImage.width*this.animator.getAnimationPercent(),b=this.width-this.width*this.animator.getAnimationPercent();this.context2d.drawImage(this.leftImage,a,0,this.leftImage.width-a,this.leftImage.height,this.x,this.y,this.width-b,this.height),b>0&&this.context2d.drawImage(this.rightImage,0,0,a,this.rightImage.height,this.getRight()-b,this.y,b,this.height)},BasicSlideShow.prototype.slideComplete=function(){this.currentIndex-=this.slideDirection,this.arrows.render(this.context2d,!this.hasPrevious(),!this.hasNext())},a.BasicSlideShow=BasicSlideShow}(window);