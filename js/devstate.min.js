function resizeHandler(){forceHideDemo(),lightBox.isMobile=isMobile()}function viewportSize(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}}function isHorizontalLayout(){var a=viewportSize();return a.width>a.height}function isMobile(){var a=viewportSize();return navigator.appVersion.toLowerCase().indexOf("mobile")>-1||Math.min(a.width,a.height)<400}function getNodeValue(a,b){var c=a.getElementsByTagName(b)[0];return c?c&&c.childNodes&&c.childNodes[0]&&c.childNodes[0].nodeValue?c.childNodes[0].nodeValue:"":""}function forceHideDemo(){void 0==!lightBox&&lightBox.isOpen()&&hideDemo(!0)}function lightBoxOverlayDivClick(){hideDemo()}function lightBoxNextDemoClickHandler(){tearDownDemo(),demoNavigationModel.navigateToNext(),loadCurrentDemo(),location.hash=demoNavigationModel.currentDemoResource.name,location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1&&ga("send","event","nextDemo")}function lightBoxPreviousDemoClickHandler(){tearDownDemo(),demoNavigationModel.navigateToPrevious(),loadCurrentDemo(),location.hash=demoNavigationModel.currentDemoResource.name,location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1&&ga("send","event","previousDemo")}function lightBoxResetDemoClickHandler(){tearDownDemo(),loadCurrentDemo(),location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1&&ga("send","event","resetDemo",demoNavigationModel.currentDemoResource.name)}function lightBoxSubMenuClickHandler(a){tearDownDemo(),demoNavigationModel.navigateToDemoByName(a),loadCurrentDemo()}function openDemoLightBox(){var a=viewportSize();contentRect=new SimpleGeometry.Rectangle,demoRect=a.width>largeDemoSize&&a.height>largeDemoSize?new SimpleGeometry.Rectangle(0,0,largeDemoSize,largeDemoSize):new SimpleGeometry.Rectangle(0,0,smallDemoSize,smallDemoSize);var b=demoRect.width/lightBoxShortSide;return isHorizontalLayout()?(contentRect.width=lightBoxLongSide*b,contentRect.height=lightBoxShortSide*b,a.width<contentRect.width&&(contentRect.width=smallDemoSize)):(contentRect.width=lightBoxShortSide*b,contentRect.height=lightBoxVerticalLayoutHeight*b,a.height<contentRect.height&&(contentRect.height=smallDemoSize)),contentRect.x=a.width/2-contentRect.width/2,contentRect.y=a.height/2-contentRect.height/2,a.width<contentRect.width||a.height<contentRect.height?(alert("Sorry, your screen or resolution is too small("+a.width+"x"+a.height+") to show this demo"),location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1&&ga("send","event","screenTooSmall",a.width+"x"+a.height),void 0):(lightBox.open(contentRect),void 0)}function loadCurrentDemo(){classLoader.loadDemo(demoNavigationModel.currentDemoResource,demoJSLoadHandler,demoJSLoadErrorHandler,demoJSLoadUpdateHandler),lightBox.showLoadProgress()}function demoJSLoadUpdateHandler(a){lightBox.updateProgress(a)}function getDemoToolTip(a){return contentRect.width<largeDemoSize?"":a.toolTip}function getLightBoxDemoTitle(a){return demoRect.width<largeDemoSize&&""!=a.shortName?a.shortName:a.name}function getDemoBoxTitleStyle(){return isHorizontalLayout()?"demoTitle":"demoTitleThin"}function getResetString(){return contentRect.height<largeDemoSize?"F5":"Reset"}function smallSize(){return contentRect.width==smallDemoSize&&contentRect.height==smallDemoSize}function demoJSLoadHandler(){lightBox.hideLoadProgress(),currentDemo=new mainScope[demoNavigationModel.currentDemoResource.name+"Demo"](demoRect.x,demoRect.y,demoRect.width,demoRect.height,lightBox.contentDiv),currentDemo.run();var a=10;detailsDiv=document.createElement("div"),detailsDiv.style.position="absolute",isHorizontalLayout()?(detailsDiv.style.left=a+demoRect.width+"px",detailsDiv.style.top=a+"px",detailsDiv.style.width=contentRect.width-demoRect.width-2*a+"px",detailsDiv.style.height=contentRect.height-2*a+"px"):(detailsDiv.style.left=a+"px",detailsDiv.style.top=a+demoRect.height+"px",detailsDiv.style.width=contentRect.width-2*a+"px",detailsDiv.style.height=contentRect.height-demoRect.height-2*a+"px"),detailsDiv.style.fontFamily="Sans-serif";var b="<h2 class='"+getDemoBoxTitleStyle()+"' >"+getLightBoxDemoTitle(demoNavigationModel.currentDemoResource)+"</h2>";b+="<p style='padding-top:20px'>"+getDemoToolTip(demoNavigationModel.currentDemoResource)+"</p>";var c=demoNavigationModel.getCurrentNavigationItem();if(c.length>1){b+="<p class='lightboxSubMenu' >";for(var d=0;d<c.length;d++)b+="<a href = 'javascript:void(0)' onclick = 'lightBoxSubMenuClickHandler(\""+c[d].name+"\")'>"+c[d].name+"</a>";b+="</p>"}b+="<p class='lightboxControls' ><a href = 'javascript:void(0)' onclick = 'lightBoxPreviousDemoClickHandler(event)'>Previous</a>",b+="<a href = 'javascript:void(0)' onclick = 'lightBoxResetDemoClickHandler()' style='padding-left:20px'>"+getResetString()+"</a>",b+="<a href = 'javascript:void(0)' onclick = 'lightBoxNextDemoClickHandler()' style='padding-left:20px'>Next</a></p>",detailsDiv.innerHTML=b,lightBox.setContent(smallSize()?void 0:detailsDiv),location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1&&ga("send","event","DemoView",demoNavigationModel.currentDemoResource)}function demoJSLoadErrorHandler(){console.log("demoJSLoadErrorHandler()")}function tearDownDemo(){currentDemo&&currentDemo.tearDown(),detailsDiv&&lightBox.removeContent(detailsDiv)}function hideDemo(a){a?lightBox.forceClose():lightBox.close()}function lightBoxOpenComplete(){loadCurrentDemo(demoNavigationModel.currentDemoResource)}function lightBoxBeginClose(){tearDownDemo(),location.hash=""}function demoLinkClickHandler(a){var b=getDemoNameFromHash(a.currentTarget.hash);demoNavigationModel.navigateToDemoByName(b),openDemoLightBox()}function showGif(a){if(!isMobile()){var b=a.target.src.split("/"),c=b[b.length-1].split(".png")[0];b[b.length-1]=c+".gif",a.target.src=b.join("/")}}function showPng(a){if(!isMobile()){var b=a.target.src.split("/"),c=b[b.length-1].split(".gif")[0];b[b.length-1]=c+".png",a.target.src=b.join("/")}}function getDemoNameFromHash(a){return a.split("#")[1]}function buildDemosMenu(a){for(var b,c=a.getElementsByTagName("menuItem"),d="",e=0;e<c.length;e++)b=c[e].getElementsByTagName("demo")[0],d+='<div class="item">',d+='<a href="#'+b.getAttribute("id")+'" onclick = "demoLinkClickHandler(event)">',d+='<img src="assets/demoThumbnails/'+getNodeValue(b,"thumb")+'.png" onmouseover="showGif(event)" onmouseout="showPng(event)">',d+="</a>",d+="</div>";d+='<div class="clearfix"></div>',document.getElementById("demos").innerHTML=d}function init(){{var a=document.getElementById("demosMenuXML").textContent,b=new DOMParser,c=b.parseFromString(a,"application/xml");c.getElementsByTagName("menuItemNode")}if(demoNavigationModel=new DemoNavigationModel(c),classLoader=new DSClassLoader,buildDemosMenu(c),lightBox=new DSLightBox(void 0,lightBoxOpenComplete,lightBoxBeginClose,void 0,isMobile()),window.onscroll=function(){forceHideDemo()},window.location.hash){var d=getDemoNameFromHash(window.location.hash);demoNavigationModel.getDemoResourceByName(d)&&(lastClickedDemoName=d,openDemoLightBox(d))}}!function(a){var b=function(){this.loadedScripts=[]};b.prototype.scriptIsLoaded=function(a){return this.loadedScripts.indexOf(a)>-1},b.prototype.loadScript=function(a,b,c){if(this.scriptIsLoaded(a))return setTimeout(b,200),void 0;var d=document.createElement("script");d.type="text/javascript",d.readyState?d.onreadystatechange=function(){("loaded"==d.readyState||"complete"==d.readyState)&&(d.onreadystatechange=null,b())}:(d.onload=function(){b()},d.onerror=function(){console.log("DSClassLoader.loadScript ERROR"),c()}),d.src=a,document.getElementsByTagName("head")[0].appendChild(d),this.loadedScripts.push(a)},b.prototype.loadDemo=function(a,b,c,d){return this.currentLoadDemoResource=a,this.loadDemoCallback=b,this.loadDemoErrorCallBack=c,this.updateCallBack=d,this.currentLoadDemoResource?(this.currentLoadIndex=0,this.loadNextDemoResourceJSFile(),void 0):(console.log("DSClassLoader.loadDemo() Error, no demo found"),c(),void 0)},b.prototype.loadNextDemoResourceJSFileError=function(){this.loadDemoErrorCallBack()},b.prototype.loadNextDemoResourceJSFile=function(){this.updateCallBack&&this.updateCallBack("loading js : "+this.currentLoadIndex+" / "+this.currentLoadDemoResource.dependencies.length);for(var a,b,c,a=0;a<this.currentLoadDemoResource.dependencies.length;a++)if(c=this.currentLoadDemoResource.dependencies[a],!this.scriptIsLoaded(c))return b=this,this.loadScript(c,function(){b.loadNextDemoResourceJSFile()},function(){b.loadNextDemoResourceJSFileError()}),this.currentLoadIndex++,void 0;this.loadDemoCallback(),this.loadDemoCallback=null,this.updateCallBack=null,this.loadDemoErrorCallBack=null,this.currentLoadDemoResource=null},a.DSClassLoader=b}(window),function(a){var b=function(a){this.parseDemosXML(a)};b.prototype.getNodeValue=function(a,b){return a.getElementsByTagName(b)[0].childNodes[0].nodeValue},b.prototype.createDemoResourceFromDemoXMLNode=function(a){for(var b=a.getAttribute("id"),d=getNodeValue(a,"shortName"),e=getNodeValue(a,"toolTip"),f=getNodeValue(a,"toolTipShort"),g=getNodeValue(a,"thumb"),h=a.getElementsByTagName("dependencies")[0],i=h.getElementsByTagName("path"),j=[],k=0;k<i.length;k++)j[k]=i[k].childNodes[0].nodeValue;return new c(b,d,e,f,g,j)},b.prototype.parseDemosXML=function(a){this.demos=[],this.navigationItems=[];var b,c,d,e,f,g,h=a.getElementsByTagName("menuItem");for(e=0;e<h.length;e++){for(c=h[e],d=[],g=c.getElementsByTagName("demo"),f=0;f<g.length;f++)b=this.createDemoResourceFromDemoXMLNode(g[f]),this.demos.push(b),d.push(b);this.navigationItems.push(d)}console.log("DemoNavigationModel.prototype.parseDemosXML"),console.log(this.demos.length),console.log(this.navigationItems.length),this.currentNavigationIndex=0,this.currentDemoResource=""},b.prototype.navigateToNext=function(){return this.currentNavigationIndex=++this.currentNavigationIndex%this.navigationItems.length,this.currentDemoResource=this.navigationItems[this.currentNavigationIndex][0],this.currentDemoResource},b.prototype.navigateToPrevious=function(){return this.currentNavigationIndex=--this.currentNavigationIndex>-1?this.currentNavigationIndex:this.navigationItems.length-1,this.currentDemoResource=this.navigationItems[this.currentNavigationIndex][0],this.currentDemoResource},b.prototype.navigateToDemoByName=function(a){var b=this.getDemoResourceByName(a);if(!b)return void 0;for(var c=0;c<this.navigationItems.length;c++)if(this.navigationItems[c].indexOf(b)>-1)return this.currentNavigationIndex=c,this.currentDemoResource=b,this.currentDemoResource;return void 0},b.prototype.getDemoResourceByName=function(a){for(var b=0;b<this.demos.length;b++)if(this.demos[b].name==a)return this.demos[b];return void 0},b.prototype.getCurrentNavigationItem=function(){return this.navigationItems[this.currentNavigationIndex]},a.DemoNavigationModel=b;var c=function(a,b,c,d,e,f){this.name=a,this.shortName=b,this.toolTip=c,this.toolTipShort=d,this.thumb=e,this.setDependencies(f)};c.prototype.setDependencies=function(a){this.dependencies=[];for(var b=location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1?".min.js":".js",c=0;c<a.length;c++)this.dependencies.push(a[c]+b)},a.DSDemoResource=c}(window),function(a){SimpleGeometry=function(){},SimpleGeometry.degreesToRadians=function(a){return a*(Math.PI/180)},SimpleGeometry.radiansToDegrees=function(a){return a*(180/Math.PI)},SimpleGeometry.PI2=2*Math.PI,SimpleGeometry.PI_HALF=Math.PI/2,SimpleGeometry.PI_FOURTH=Math.PI/4,SimpleGeometry.normalize=function(a,b,c){return(a-b)/(c-b)},SimpleGeometry.interpolate=function(a,b,c){return b+(c-b)*a},SimpleGeometry.map=function(a,b,c,d,e){return SimpleGeometry.interpolate(SimpleGeometry.normalize(a,b,c),d,e)},SimpleGeometry.getRandomPositiveOrNegativeOne=function(){return Math.random()>.5?1:-1},SimpleGeometry.constrainDegreeTo360=function(a){return(360+a%360)%360},SimpleGeometry.constrainRadianTo2PI=function(a){return(SimpleGeometry.PI2+a%SimpleGeometry.PI2)%SimpleGeometry.PI2},SimpleGeometry.clamp=function(a,b,c){return b>a?b:a>c?c:a},SimpleGeometry.getRandomFillStyleColor=function(a,b){isNaN(b)&&(b=255);for(var c=[],d=0;3>d;d++)c[d]=Math.floor(Math.random()*b);return SimpleGeometry.getRgbaStyleString(c[0],c[1],c[2],isNaN(a)?1:SimpleGeometry.clamp(a,0,1))},SimpleGeometry.getRgbaStyleString=function(a,b,c,d){return"rgba("+a+","+b+","+c+","+d+")"},SimpleGeometry.setIdentityMatrixToContext=function(a){a.setTransform(1,0,0,1,0,0)},SimpleGeometry.Point=function(a,b){this.x=isNaN(a)?0:a,this.y=isNaN(b)?0:b},SimpleGeometry.Point.prototype.clone=function(){return new SimpleGeometry.Point(this.x,this.y)},SimpleGeometry.Point.prototype.equals=function(a){return this.x==a.x&&this.y==a.y},SimpleGeometry.Point.prototype.toString=function(){return"{x:"+this.x+" , y:"+this.y+"}"},SimpleGeometry.distanceBetweenTwoPoints=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},SimpleGeometry.angleBetweenTwoPoints=function(a,b){return Math.atan2(a.y-b.y,a.x-b.x)},SimpleGeometry.mirrorPointInRectangle=function(a,b){return new SimpleGeometry.Point(b.width-a.x,b.height-a.y)},SimpleGeometry.randomizePoint=function(a,b){return new SimpleGeometry.Point(-b+Math.random()*b+a.x,-b+Math.random()*b+a.y)},SimpleGeometry.Triangle=function(a,b,c){this.a=a?a:new SimpleGeometry.Point(0,0),this.b=b?b:new SimpleGeometry.Point(0,0),this.c=c?c:new SimpleGeometry.Point(0,0)},SimpleGeometry.Triangle.prototype.equals=function(a){return this.a.equals(a.a)&&this.b.equals(a.b)&&this.c.equals(a.c)},SimpleGeometry.Triangle.prototype.clone=function(){return new SimpleGeometry.Triangle(new SimpleGeometry.Point(this.a.x,this.a.y),new SimpleGeometry.Point(this.b.x,this.b.y),new SimpleGeometry.Point(this.c.x,this.c.y))},SimpleGeometry.Triangle.prototype.getSmallestX=function(){return Math.min(this.a.x,this.b.x,this.c.x)},SimpleGeometry.Triangle.prototype.getSmallestY=function(){return Math.min(this.a.y,this.b.y,this.c.y)},SimpleGeometry.Triangle.prototype.getBiggestX=function(){return Math.max(this.a.x,this.b.x,this.c.x)},SimpleGeometry.Triangle.prototype.getBiggestY=function(){return Math.max(this.a.y,this.b.y,this.c.y)},SimpleGeometry.Triangle.prototype.containsVertex=function(a){return this.a.x==a.x&&this.a.y==a.y||this.b.x==a.x&&this.b.y==a.y||this.c.x==a.x&&this.c.y==a.y},SimpleGeometry.Triangle.prototype.toString=function(){return"toString() Triangle{a:"+this.a+" , b:"+this.b+" , c:"+this.c+"}"},SimpleGeometry.Triangle.prototype.containsVertex=function(a){return this.a.x==a.x&&this.a.y==a.y||this.b.x==a.x&&this.b.y==a.y||this.c.x==a.x&&this.c.y==a.y},SimpleGeometry.Triangle.prototype.sharesEdge=function(a){var b=0;return this.containsVertex(a.a)&&b++,this.containsVertex(a.b)&&b++,this.containsVertex(a.c)&&b++,2==b},SimpleGeometry.Rectangle=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},SimpleGeometry.Rectangle.prototype.getRight=function(){return this.x+this.width},SimpleGeometry.Rectangle.prototype.getBottom=function(){return this.y+this.height},SimpleGeometry.Rectangle.prototype.containsPoint=function(a){return a.x>this.x&&a.y>this.y&&a.x<this.getRight()&&a.y<this.getBottom()},SimpleGeometry.Rectangle.prototype.getCenter=function(){return new SimpleGeometry.Point(this.x+this.width/2,this.y+this.height/2)},SimpleGeometry.Rectangle.prototype.clone=function(){return new SimpleGeometry.Rectangle(this.x,this.y,this.width,this.height)},SimpleGeometry.Rectangle.prototype.toString=function(){return"Rectangle{x:"+this.x+" , y:"+this.y+" , width:"+this.width+" , height:"+this.height+"}"},a.SimpleGeometry=SimpleGeometry,SimpleGeometry.Circle=function(a,b,c){this.radius=isNaN(c)?10:c,SimpleGeometry.Point.call(this,a,b)},SimpleGeometry.Circle.prototype=Object.create(SimpleGeometry.Point.prototype),SimpleGeometry.Circle.prototype.constructor=SimpleGeometry.Point,SimpleGeometry.Circle.prototype.getRandomPointInCircle=function(){var a=Math.random()*this.radius,b=Math.random()*SimpleGeometry.PI2,c=this.x+Math.cos(b)*a,d=this.y+Math.sin(b)*a;return new SimpleGeometry.Point(c,d)},SimpleGeometry.Circle.prototype.clone=function(){return new SimpleGeometry.Circle(this.x,this.y,this.radius)},SimpleGeometry.Transform=function(a,b,c,d,e,f){this.update(isNaN(a)?1:a,isNaN(b)?0:b,isNaN(c)?0:c,isNaN(d)?1:d,isNaN(e)?0:e,isNaN(f)?0:f)},SimpleGeometry.Transform.prototype.update=function(a,b,c,d,e,f){this.scaleX=a,this.skewX=b,this.skewY=c,this.scaleY=d,this.tx=e,this.ty=f},SimpleGeometry.Transform.prototype.toString=function(){return"SimpleGeometry.Transform{scaleX:"+this.scaleX+" ,skewX:"+this.skewX+" ,skewY:"+this.skewY+" ,scaleY:"+this.scaleY+" ,tx:"+this.tx+" ,ty:"+this.ty+"}"},SimpleGeometry.Point2d=function(a,b,c){this.x=isNaN(a)?0:a,this.y=isNaN(b)?0:b,this.t=isNaN(c)?0:c},SimpleGeometry.Point2d.prototype.toString=function(){return"x: "+this.x+", y: "+this.y+", t: "+this.t},SimpleGeometry.Point3d=function(a,b,c){this.x=isNaN(a)?0:a,this.y=isNaN(b)?0:b,this.z=isNaN(c)?0:c},SimpleGeometry.Point3d.prototype.clone=function(){return new SimpleGeometry.Point3d(this.x,this.y,this.z)},SimpleGeometry.Point3d.prototype.copyValuesTo=function(a){a.x=this.x,a.y=this.y,a.z=this.z},SimpleGeometry.Point3d.prototype.updateValues=function(a,b,c){this.x=a,this.y=b,this.z=c},SimpleGeometry.Point3d.prototype.equals=function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},SimpleGeometry.Point3d.prototype.project=function(a,b){var c=a/(a+this.z);b||(b=new SimpleGeometry.Point(0,0));var d=b.x,e=b.y,f=this.x,g=this.y;return f-=d,g-=e,f=f*c+d,g=g*c+e,console.log("Point3d.project()",c,b.toString(),d,e,f,g),new SimpleGeometry.Point2d(f,g,c)},SimpleGeometry.Point3d.prototype.toString=function(){return"{x:"+this.x+" , y:"+this.y+" , z:"+this.z+"}"},a.SimpleGeometry=SimpleGeometry}(window),function(a){DSColors=function(){},DSColors.GREEN="#157b0f",DSColors.LIGHT_GREEN="#77fd6f",DSColors.ORANGE="#ff342e",DSColors.PINK_ORANGE="#ff5b59",a.DSColors=DSColors}(window),function(a){UnitAnimator=function(a,b,c,d){this.reset(a,b,c,d)},UnitAnimator.easeLinear=function(a,b,c,d){return c*(a/d)+b},UnitAnimator.easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*SimpleGeometry.PI_HALF)+c+b},UnitAnimator.easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*SimpleGeometry.PI_HALF)+b},UnitAnimator.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},UnitAnimator.easeInBounce=function(a,b,c,d){return c-UnitAnimator.easeOutBounce(d-a,0,c,d)+b},UnitAnimator.easeOutBounce=function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},UnitAnimator.easeInOutBounce=function(a,b,c,d){return d/2>a?.5*UnitAnimator.easeInBounce(2*a,0,c,d)+b:.5*UnitAnimator.easeOutBounce(2*a-d,0,c,d)+.5*c+b},UnitAnimator.easeInElastic=function(a,b,c,d,e,f){var g;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/SimpleGeometry.PI2*Math.asin(c/e),-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*SimpleGeometry.PI2/f))+b)},UnitAnimator.easeOutElastic=function(a,b,c,d,e,f){var g;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/SimpleGeometry.PI2*Math.asin(c/e),e*Math.pow(2,-10*a)*Math.sin((a*d-g)*SimpleGeometry.PI2/f)+c+b)},UnitAnimator.easeInOutElastic=function(a,b,c,d,e,f){var g;return 0==a?b:2==(a/=d/2)?b+c:(f||(f=.3*d*1.5),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/SimpleGeometry.PI2*Math.asin(c/e),1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*SimpleGeometry.PI2/f)+b:e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*SimpleGeometry.PI2/f)*.5+c+b)},UnitAnimator.easingFunctions=[UnitAnimator.easeLinear,UnitAnimator.easeInSine,UnitAnimator.easeOutSine,UnitAnimator.easeInOutSine,UnitAnimator.easeInBounce,UnitAnimator.easeOutBounce,UnitAnimator.easeInOutBounce,UnitAnimator.easeInElastic,UnitAnimator.easeOutElastic,UnitAnimator.easeInOutElastic],UnitAnimator.prototype.easingFunction=UnitAnimator.easeLinear,UnitAnimator.getRandomEasingFunction=function(){return UnitAnimator.easingFunctions[Math.floor(Math.random()*UnitAnimator.easingFunctions.length)]},UnitAnimator.prototype.setRandomEasingFunction=function(){this.easingFunction=UnitAnimator.getRandomEasingFunction()},UnitAnimator.prototype.setEasingFunction=function(a){UnitAnimator.easingFunctions.indexOf(a)>-1&&(this.easingFunction=a)},UnitAnimator.prototype.getAnimationPercent=function(){return this.easingFunction(SimpleGeometry.normalize(this.millisecondsAnimated,0,this.duration),0,1,1)},UnitAnimator.prototype.isAnimating=function(){return!isNaN(this.intervalId)},UnitAnimator.prototype.reset=function(a,b,c,d){this.duration=a,this.framerate=b,this.updateCallBack=c,this.completeCallBack=d,this.millisecondsAnimated=0},UnitAnimator.prototype.start=function(a){a&&this.setEasingFunction(a);var b=this;this.intervalId=setInterval(function(){b.update()},this.framerate)},UnitAnimator.prototype.pause=function(){isNaN(this.intervalId)||clearInterval(this.intervalId),delete this.intervalId},UnitAnimator.prototype.update=function(){return this.millisecondsAnimated+=this.framerate,this.millisecondsAnimated>=this.duration?(this.pause(),this.millisecondsAnimated=this.duration,this.dispatchUpdate(),this.dispatchComplete(),void 0):(this.dispatchUpdate(),void 0)},UnitAnimator.prototype.dispatchUpdate=function(){this.updateCallBack&&this.updateCallBack()},UnitAnimator.prototype.dispatchComplete=function(){this.completeCallBack&&this.completeCallBack()},a.UnitAnimator=UnitAnimator}(window),function(a){SimpleLoaderGraphic=function(a,b,c,d,e){SimpleGeometry.Circle.call(this,a,b,c),this.updateHandler=d,this.arcLength=isNaN(e)?.8*Math.PI:e,this.loadingTextFillStyle="#CCCCCC",this.loadingText="",this.lineWidth=14,this.frameRate=25,this.velocity=.1,this.intervalId=-1,this.linearGradientStart=new SimpleGeometry.Point,this.linearGradientEnd=new SimpleGeometry.Point},SimpleLoaderGraphic.prototype=Object.create(SimpleGeometry.Circle.prototype),SimpleLoaderGraphic.prototype.constructor=SimpleGeometry.Circle,SimpleLoaderGraphic.prototype.startStrokeGradientColor=SimpleGeometry.getRgbaStyleString(204,204,204,0),SimpleLoaderGraphic.prototype.setStrokeStartColor=function(a,b,c,d){this.startStrokeGradientColor=SimpleGeometry.getRgbaStyleString(a,b,c,d)},SimpleLoaderGraphic.prototype.endStrokeGradientColor=SimpleGeometry.getRgbaStyleString(204,204,204,1),SimpleLoaderGraphic.prototype.setEndStartColor=function(a,b,c,d){this.endStrokeGradientColor=SimpleGeometry.getRgbaStyleString(a,b,c,d)},SimpleLoaderGraphic.prototype.play=function(){this.radian=0;var a=this;this.intervalId=setInterval(function(){a.rotate()},this.frameRate)},SimpleLoaderGraphic.prototype.pause=function(){isNaN(this.intervalId)||clearInterval(this.intervalId),this.updateHandler=void 0,delete this.intervalId},SimpleLoaderGraphic.prototype.rotate=function(){this.radian+=this.velocity,this.radian=SimpleGeometry.constrainRadianTo2PI(this.radian),this.updateHandler&&this.updateHandler()},SimpleLoaderGraphic.prototype.render=function(a){a.beginPath(),this.linearGradientStart.x=this.x+Math.cos(this.radian)*(this.radius+10),this.linearGradientStart.y=this.y+Math.sin(this.radian)*(this.radius+10),this.linearGradientEnd.x=this.x+Math.cos(this.radian+this.arcLength)*(this.radius+10),this.linearGradientEnd.y=this.y+Math.sin(this.radian+this.arcLength)*(this.radius+10);var b=a.createLinearGradient(this.linearGradientStart.x,this.linearGradientStart.y,this.linearGradientEnd.x,this.linearGradientEnd.y);if(b.addColorStop(0,this.startStrokeGradientColor),b.addColorStop(1,this.endStrokeGradientColor),a.strokeStyle=b,a.lineWidth=this.lineWidth,a.lineCap="round",a.arc(this.x,this.y,this.radius,this.radian,this.radian+this.arcLength),a.stroke(),a.closePath(),""!=this.loadingText){a.textBaseline="top",a.fillStyle=this.loadingTextFillStyle,a.font="30px 'sf_collegiate_solidregular'";var c=a.measureText(this.loadingText);a.fillText(this.loadingText,this.x-c.width/2,this.y+this.radius+this.lineWidth)}},a.SimpleLoaderGraphic=SimpleLoaderGraphic}(window),function(a){ImageStore=function(){},ImageStore.prototype.loadImages=function(a,b,c){this.urls=a,this.completeCallback=b,this.updateCallback=void 0!=c?c:void 0,this.images=[],this.currentLoadIndex=0,this.loadNextImage()},ImageStore.prototype.stop=function(){this.completeCallback=void 0,this.updateCallback=void 0,this.urls=[]},ImageStore.prototype.getProgressPercent=function(){return SimpleGeometry.normalize(this.currentLoadIndex,0,this.urls.length)},ImageStore.prototype.getProgressString=function(){return this.currentLoadIndex+" / "+this.urls.length},ImageStore.prototype.loadNextImage=function(){if(this.currentLoadIndex>=this.urls.length)return this.completeCallback(),void 0;var a=new Image,b=this;a.onload=function(){b.imageLoadComplete()};var c=this.urls[this.currentLoadIndex];a.onerror=function(){alert("ImageStore ERROR : "+c+" could not be loaded.")},a.src=this.urls[this.currentLoadIndex],this.images.push(a),this.currentLoadIndex++},ImageStore.prototype.imageLoadComplete=function(){for(var a=0;a<this.images.length;a++)this.images[a].onload=void 0;void 0!=this.updateCallback&&this.updateCallback(),this.loadNextImage()},a.ImageStore=ImageStore}(window),function(a){DSLightBox=function(a,b,c,d,e){this.beginOpenCallback=a,this.openCompleteCallback=b,this.beginCloseCallback=c,this.closeCompleteCallback=d,this.isMobile=e,this.contentDiv=document.createElement("div"),this.overlayDiv=document.createElement("div"),this.borderDiv=document.createElement("div"),document.body.appendChild(this.contentDiv),document.body.appendChild(this.overlayDiv),document.body.appendChild(this.borderDiv),this.borderDiv.style.position=this.overlayDiv.style.position=this.contentDiv.style.position="absolute",this.borderDiv.style.display=this.overlayDiv.style.display=this.contentDiv.style.display="none",this.overlayDiv.style.backgroundColor="black",this.overlayDiv.style.zIndex=1e3;var f=this;this.overlayDiv.addEventListener("click",function(a){f.lightBoxOverlayDivClickHandler(a)},!1),this.borderDiv.style.backgroundColor=DSColors.GREEN,this.borderDiv.style.zIndex=1001,this.contentDiv.style.backgroundColor="white",this.contentDiv.style.zIndex=1002,this.closeButton=document.createElement("img"),document.body.appendChild(this.closeButton),this.closeButtonOutHandler(),this.closeButton.style.position="absolute",this.closeButton.style.display="none",this.closeButton.addEventListener("click",function(a){f.lightBoxOverlayDivClickHandler(a)}),this.closeButton.addEventListener("mouseover",function(){f.closeButtonOverHandler()}),this.closeButton.addEventListener("mouseout",function(){f.closeButtonOutHandler()}),this.closeButton.style.zIndex=1003,this.overlayDiv.style.cursor=this.closeButton.style.cursor="pointer",this.animator=new UnitAnimator,this.animator.setEasingFunction(UnitAnimator.easeOutSine),this.backgroundOpacity=.8,this.borderThickness=4,this.progressLabel=document.createElement("p"),this.progressLabel.className="progressLabel",this.progressLabel.innerHTML="HI!",this.progressLabel.style.display="none"},DSLightBox.prototype.showLoadProgress=function(){this.progressLabel.style.display="block"},DSLightBox.prototype.updateProgress=function(a){console.log("DSLightBox.udpdteProgress() : "+a),this.progressLabel.innerHTML=a},DSLightBox.prototype.hideLoadProgress=function(){this.progressLabel.style.display="none"},DSLightBox.prototype.lightBoxOverlayDivClickHandler=function(a){this.close(a)},DSLightBox.prototype.closeButtonOverHandler=function(){this.closeButton.src="assets/closeButtonOver.png"},DSLightBox.prototype.closeButtonOutHandler=function(){this.closeButton.src="assets/closeButton.png"},DSLightBox.prototype.setContent=function(a){a&&this.contentDiv.appendChild(a)},DSLightBox.prototype.removeContent=function(a){try{this.contentDiv.removeChild(a)}catch(b){}},DSLightBox.prototype.isOpen=function(){return"block"==this.contentDiv.style.display},DSLightBox.prototype.open=function(a){this.contentRect=a;var b=document.documentElement,c=document.body,d=b&&b.scrollTop||c&&c.scrollTop||0;this.overlayDiv.style.left="0px",this.overlayDiv.style.top=d+"px",this.overlayDiv.style.width="100%",this.overlayDiv.style.height="100%",this.borderDiv.style.left=a.x-this.borderThickness+"px",this.borderDiv.style.top=d+(a.y-this.borderThickness)+"px",this.borderDiv.style.width=a.width+2*this.borderThickness+"px",this.borderDiv.style.height=a.height+2*this.borderThickness+"px",this.contentDiv.style.left=a.x+"px",this.contentDiv.style.top=d+a.y+"px",this.contentDiv.style.width=a.width+"px",this.contentDiv.style.height=a.height+"px",this.borderDiv.style.opacity=this.contentDiv.style.opacity=this.overlayDiv.style.opacity=0,this.borderDiv.style.display=this.overlayDiv.style.display=this.contentDiv.style.display="block",this.closeButton.style.left=this.contentRect.getRight()-this.closeButton.width/2+"px",this.closeButton.style.top=d+this.contentRect.getBottom()-this.closeButton.height/2+"px",this.progressLabel.style.top=this.contentRect.height/2;var e=this;this.isMobile?this.animator.reset(90,30,function(){e.fadeIn()},function(){e.openComplete()}):this.animator.reset(500,20,function(){e.fadeIn()},function(){e.openComplete()}),this.animator.start(),void 0!=this.beginOpenCallback&&this.beginOpenCallback()},DSLightBox.prototype.fadeIn=function(){this.overlayDiv.style.opacity=this.animator.getAnimationPercent()*this.backgroundOpacity,this.contentDiv.style.opacity=this.animator.getAnimationPercent(),this.borderDiv.style.opacity=this.animator.getAnimationPercent()},DSLightBox.prototype.openComplete=function(){this.animator&&this.animator.isAnimating()&&this.animator.pause(),this.overlayDiv.style.opacity=this.backgroundOpacity,void 0!=this.openCompleteCallback&&this.openCompleteCallback(),this.closeButton.style.display="block"},DSLightBox.prototype.close=function(a){if(!this.animator.isAnimating()){if(this.fadeOutBeginRect=this.contentRect.clone(),this.fadeOutTargetRect=new SimpleGeometry.Rectangle(a.pageX-25,a.pageY-25,50,50),this.closeButton.style.display=this.borderDiv.style.display="none",this.isMobile)return this.forceClose(),void 0;var b=this;this.animator.reset(500,20,function(){b.fadeOut()},function(){b.closeComplete()}),this.animator.start(),void 0!=this.beginCloseCallback&&this.beginCloseCallback()}},DSLightBox.prototype.fadeOut=function(){this.overlayDiv.style.opacity=(1-this.animator.getAnimationPercent())*this.backgroundOpacity,this.contentDiv.style.opacity=1-this.animator.getAnimationPercent(),this.contentRect.width=SimpleGeometry.interpolate(this.animator.getAnimationPercent(),this.fadeOutBeginRect.width,this.fadeOutTargetRect.width),this.contentRect.height=SimpleGeometry.interpolate(this.animator.getAnimationPercent(),this.fadeOutBeginRect.height,this.fadeOutTargetRect.height),this.contentRect.x=SimpleGeometry.interpolate(this.animator.getAnimationPercent(),this.fadeOutBeginRect.x,this.fadeOutTargetRect.x),this.contentRect.y=SimpleGeometry.interpolate(this.animator.getAnimationPercent(),this.fadeOutBeginRect.y,this.fadeOutTargetRect.y),this.contentDiv.style.left=Math.round(this.contentRect.x)+"px",this.contentDiv.style.top=Math.round(this.contentRect.y)+"px",this.contentDiv.style.width=Math.round(this.contentRect.width)+"px",this.contentDiv.style.height=Math.round(this.contentRect.height)+"px"},DSLightBox.prototype.closeComplete=function(){this.closeButton.style.display=this.borderDiv.style.display=this.overlayDiv.style.display=this.contentDiv.style.display="none",void 0!=this.closeCompleteCallback&&this.closeCompleteCallback()},DSLightBox.prototype.forceClose=function(){void 0!=this.beginCloseCallback&&this.beginCloseCallback(),this.animator.pause(),this.closeComplete()},a.DSLightBox=DSLightBox}(window),function(a){var b=function(a,b,c,d,e){return SimpleGeometry.Rectangle.call(this,a,b,c,d),this.demoContainer=e,this.customCaptureControls=!1,this.captureFrameRate=300,this.gifPlaybackFrameRate=100,e?(this.setUpDemo(),void 0):(console.log("AbstractDemo constructor, no demo container, cannot setUpDemo()"),void 0)
};b.prototype=Object.create(SimpleGeometry.Rectangle.prototype),b.prototype.constructor=SimpleGeometry.Rectangle,b.prototype.preSetUp=function(){},b.prototype.setUpDemo=function(){this.preSetUp(),this.animator=new UnitAnimator,this.animator.setEasingFunction(UnitAnimator.easeOutSine),this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.context2d=this.canvas.getContext("2d"),this.appendCanvas(this.canvas)},b.prototype.appendCanvas=function(a){a.style.position="absolute",a.style.left="0px",a.style.top="0px",this.demoContainer.appendChild(a)},b.prototype.getGlobalDemoPosition=function(){for(var a=new SimpleGeometry.Point(0,0),b=this.canvas;b;)b.style&&b.style.left&&b.style.top&&(a.x+=parseInt(b.style.left.split("px")[0]),a.y+=parseInt(b.style.top.split("px")[0])),b=b.parentNode;return a},b.prototype.getCaptureCanvases=function(){return[this.canvas]},b.prototype.run=function(){this.clear()},b.prototype.clear=function(){this.context2d.clearRect(0,0,this.canvas.width,this.canvas.height)},b.prototype.loadImagesWithImageStore=function(a){this.imageStore=new ImageStore;var b=this;this.imageStore.loadImages(a,function(){b.imageStoreLoadComplete()},function(){b.imageStoreLoadProgress()}),this.spinner=new SimpleLoaderGraphic(this.width/2,this.height/2,25,function(){b.updateSpinner()}),this.spinner.play()},b.prototype.imageStoreLoadProgress=function(){this.spinner.loadingText="Loading images "+this.imageStore.getProgressString()},b.prototype.updateSpinner=function(){this.clear(),this.spinner.render(this.context2d)},b.prototype.imageStoreLoadComplete=function(){this.clear(),this.spinner.pause(),delete this.spinner,this.useLoadedImageStoreImages()},b.prototype.useLoadedImageStoreImages=function(){console.log("AbstractDemo.useLoadedImageStoreImages(), this must be overridden in subclasses")},b.prototype.tearDown=function(){this.animator&&(this.animator.pause(),delete this.animator),this.imageStore&&(this.imageStore.stop(),delete this.imageStore),this.spinner&&(this.spinner.pause(),delete this.spinner),this.demoContainer.removeChild(this.canvas),delete this.context2d,delete this.canvas,this.customTearDown()},b.prototype.customTearDown=function(){},b.prototype.startCustomCaptureAnimation=function(){console.log("AbstractDemo.prototype.startCustomCaptureAnimation() must be overriden by subclasses")},b.prototype.animationComplete=function(){this.captureCompleteCallBack&&this.captureCompleteCallBack()},a.AbstractDemo=b}(window),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-44531934-1","devstate.net"),location.hostname&&location.hostname.toLowerCase().indexOf("devstate")>-1&&ga("send","pageview");var lightBoxLongSide=700,lightBoxShortSide=400,lightBoxVerticalLayoutHeight=600,smallDemoSize=300,largeDemoSize=400,mainScope=this,classLoader,demoNavigationModel,detailsDiv,demoRect,contentRect,readyStateCheckInterval=setInterval(function(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),init())},10);