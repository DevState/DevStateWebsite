!function(a){BarChart=function(a,b,c,d,e){SimpleGeometry.Rectangle.call(this,a,b,c,d),isNaN(e)||(this.barWidth=e),this.renderPoint=new SimpleGeometry.Point,this.extrudeWidth=6,this.lightColor=DSColors.PINK_ORANGE,this.darkColor=DSColors.ORANGE},BarChart.prototype=Object.create(SimpleGeometry.Rectangle.prototype),BarChart.prototype.constructor=SimpleGeometry.Rectangle,BarChart.prototype.setValues=function(a,b){this.values=a,this.max=b},BarChart.prototype.setRandomValues=function(){for(var a=[],b=3+Math.floor(3*Math.random());b>0;)a.push(10+Math.floor(90*Math.random())),b--;this.setValues(a,100)},BarChart.prototype.setBarColors=function(a){this.colors=a},BarChart.prototype.setRandomColors=function(){for(this.colors=[];this.colors.length!=this.values.length;)this.colors.push(SimpleGeometry.getRandomFillStyleColor())},BarChart.prototype.calculateYPosition=function(a,b){return SimpleGeometry.interpolate(SimpleGeometry.normalize(a,0,this.max)*b,this.getBottom(),this.y)},BarChart.prototype.render=function(a,b){this.values||this.setRandomValues(),this.colors||this.setRandomColors(),isNaN(b)&&(b=1),this.barWidth||(this.barWidth=this.width/2/this.values.length),this.barSpacer=(this.width-this.barWidth*this.values.length)/(this.values.length+1);var c;a.strokeStyle="#FFFFFF";for(var d=0;d<this.values.length;d++)a.fillStyle=this.lightColor,this.renderPoint.x=this.x+this.barSpacer+this.barSpacer*d+this.barWidth*d,this.renderPoint.y=this.calculateYPosition(this.values[d],b),a.beginPath(),a.moveTo(this.renderPoint.x,this.renderPoint.y),a.lineTo(this.renderPoint.x+this.extrudeWidth,this.renderPoint.y-this.extrudeWidth),a.lineTo(this.renderPoint.x+this.extrudeWidth+this.barWidth,this.renderPoint.y-this.extrudeWidth),a.lineTo(this.renderPoint.x+this.barWidth,this.renderPoint.y),a.lineTo(this.renderPoint.x,this.renderPoint.y),a.closePath(),a.fill(),a.stroke(),a.beginPath(),a.moveTo(this.renderPoint.x+this.barWidth,this.renderPoint.y),a.lineTo(this.renderPoint.x+this.extrudeWidth+this.barWidth,this.renderPoint.y-this.extrudeWidth),a.lineTo(this.renderPoint.x+this.extrudeWidth+this.barWidth,this.y+this.height-this.extrudeWidth),a.lineTo(this.renderPoint.x+this.barWidth,this.y+this.height),a.lineTo(this.renderPoint.x+this.barWidth,this.renderPoint.y),a.closePath(),a.fill(),a.stroke(),c=a.createLinearGradient(0,this.renderPoint.y,0,this.y+this.height),c.addColorStop(0,this.lightColor),c.addColorStop(1,this.darkColor),a.fillStyle=c,a.fillRect(this.renderPoint.x,this.renderPoint.y,this.barWidth,this.y+this.height-this.renderPoint.y),a.strokeRect(this.renderPoint.x,this.renderPoint.y,this.barWidth,this.y+this.height-this.renderPoint.y)},a.BarChart=BarChart}(window);