(function(a){LineChart=function(c,e,d,b){SimpleGeometry.Rectangle.call(this,c,e,d,b);this.showDots=true;this.renderPoint=new SimpleGeometry.Point();this.margin=30};LineChart.prototype=Object.create(SimpleGeometry.Rectangle.prototype);LineChart.prototype.constructor=SimpleGeometry.Rectangle;LineChart.prototype.setValues=function(b){this.min=0;this.max=100;this.values=b;var e=0;for(var d=0;d<this.values.length;d++){for(var c=0;c<this.values[d].length;c++){if(this.values[d].length>e){e=this.values[d].length}}}for(d=0;d<this.values.length;d++){while(this.values[d].length<e){this.values[d].push(this.min)}}};LineChart.prototype.setRandomValues=function(){var d=[];var c=2+Math.floor(Math.random()*2);var f=10+Math.floor(Math.random()*10);var b,g;while(c>0){b=[];g=d.length*30+Math.floor(Math.random()*30);for(var e=0;e<f;e++){b[e]=g;g+=Math.floor(-3+Math.random()*6);g=Math.max(g,0)}d.push(b);c--}this.setValues(d)};LineChart.prototype.setLineColors=function(b){this.colors=b};LineChart.prototype.setRandomColors=function(){this.colors=[];while(this.colors.length!=this.values.length){this.colors.push(SimpleGeometry.getRandomFillStyleColor(1,123))}};LineChart.prototype.render=function(d,b){if(!this.values){this.setRandomValues()}if(!this.colors){this.setRandomColors()}if(isNaN(b)){b=1}this.pointSpacer=(this.width-this.margin*2)/(this.values[0].length-1);for(var c=0;c<this.values.length;c++){this.renderLine(d,this.values[c],this.colors[c],b)}};LineChart.prototype.calculateYPosition=function(c,b){return SimpleGeometry.interpolate(SimpleGeometry.normalize(c,this.min,this.max)*b,this.getBottom(),this.y)};LineChart.prototype.renderLine=function(f,b,d,c){if(c==0){return}f.beginPath();f.strokeStyle=d;f.lineWidth=3;f.moveTo(this.x+this.margin,this.calculateYPosition(b[0],c));for(var e=1;e<b.length;e++){this.renderPoint.x=this.x+this.margin+(this.pointSpacer*e);this.renderPoint.y=this.calculateYPosition(b[e],c);f.lineTo(this.renderPoint.x,this.renderPoint.y)}f.stroke();f.closePath();if(c!=1||!this.showDots){return}f.strokeStyle=d;f.fillStyle="#FFFFFF";for(e=0;e<b.length;e++){f.beginPath();this.renderPoint.x=this.x+this.margin+(this.pointSpacer*e);this.renderPoint.y=this.calculateYPosition(b[e],c);f.arc(this.renderPoint.x,this.renderPoint.y,5,0,SimpleGeometry.PI2);f.fill();f.stroke();f.closePath()}};a.LineChart=LineChart}(window));