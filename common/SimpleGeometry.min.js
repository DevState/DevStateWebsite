(function(a){SimpleGeometry=function(){};SimpleGeometry.degreesToRadians=function(b){return b*(Math.PI/180)};SimpleGeometry.radiansToDegrees=function(b){return b*(180/Math.PI)};SimpleGeometry.PI2=2*Math.PI;SimpleGeometry.PI_HALF=Math.PI/2;SimpleGeometry.PI_FOURTH=Math.PI/4;SimpleGeometry.normalize=function(c,b,d){return(c-b)/(d-b)};SimpleGeometry.interpolate=function(b,c,d){return c+(d-c)*b};SimpleGeometry.map=function(f,e,c,d,b){return SimpleGeometry.interpolate(SimpleGeometry.normalize(f,e,c),d,b)};SimpleGeometry.getRandomPositiveOrNegativeOne=function(){return Math.random()>0.5?1:-1};SimpleGeometry.constrainDegreeTo360=function(b){return(360+b%360)%360};SimpleGeometry.constrainRadianTo2PI=function(b){return(SimpleGeometry.PI2+b%SimpleGeometry.PI2)%SimpleGeometry.PI2};SimpleGeometry.clamp=function(d,c,b){if(d<c){return c}if(d>b){return b}return d};SimpleGeometry.getRandomFillStyleColor=function(e,b){if(isNaN(b)){b=255}var f=[];for(var d=0;d<3;d++){f[d]=Math.floor(Math.random()*b)}return SimpleGeometry.getRgbaStyleString(f[0],f[1],f[2],isNaN(e)?1:SimpleGeometry.clamp(e,0,1))};SimpleGeometry.getRgbaStyleString=function(e,c,b,d){return"rgba("+e+","+c+","+b+","+d+")"};SimpleGeometry.setIdentityMatrixToContext=function(b){b.setTransform(1,0,0,1,0,0)};SimpleGeometry.Point=function(b,c){this.x=isNaN(b)?0:b;this.y=isNaN(c)?0:c};SimpleGeometry.Point.prototype.clone=function(){return new SimpleGeometry.Point(this.x,this.y)};SimpleGeometry.Point.prototype.equals=function(b){return this.x==b.x&&this.y==b.y};SimpleGeometry.Point.prototype.toString=function(){return"{x:"+this.x+" , y:"+this.y+"}"};SimpleGeometry.distanceBetweenTwoPoints=function(c,b){return Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2))};SimpleGeometry.angleBetweenTwoPoints=function(c,b){return Math.atan2(c.y-b.y,c.x-b.x)};SimpleGeometry.mirrorPointInRectangle=function(b,c){return new SimpleGeometry.Point(c.width-b.x,c.height-b.y)};SimpleGeometry.randomizePoint=function(b,c){return new SimpleGeometry.Point(-c+Math.random()*c+b.x,-c+Math.random()*c+b.y)};SimpleGeometry.Triangle=function(e,d,f){this.a=e?e:new SimpleGeometry.Point(0,0);this.b=d?d:new SimpleGeometry.Point(0,0);this.c=f?f:new SimpleGeometry.Point(0,0)};SimpleGeometry.Triangle.prototype.equals=function(b){return this.a.equals(b.a)&&this.b.equals(b.b)&&this.c.equals(b.c)};SimpleGeometry.Triangle.prototype.clone=function(){return new SimpleGeometry.Triangle(new SimpleGeometry.Point(this.a.x,this.a.y),new SimpleGeometry.Point(this.b.x,this.b.y),new SimpleGeometry.Point(this.c.x,this.c.y))};SimpleGeometry.Triangle.prototype.getSmallestX=function(){return Math.min(this.a.x,this.b.x,this.c.x)};SimpleGeometry.Triangle.prototype.getSmallestY=function(){return Math.min(this.a.y,this.b.y,this.c.y)};SimpleGeometry.Triangle.prototype.getBiggestX=function(){return Math.max(this.a.x,this.b.x,this.c.x)};SimpleGeometry.Triangle.prototype.getBiggestY=function(){return Math.max(this.a.y,this.b.y,this.c.y)};SimpleGeometry.Triangle.prototype.containsVertex=function(b){return(this.a.x==b.x&&this.a.y==b.y)||(this.b.x==b.x&&this.b.y==b.y)||(this.c.x==b.x&&this.c.y==b.y)};SimpleGeometry.Triangle.prototype.toString=function(){return"toString() Triangle{a:"+this.a+" , b:"+this.b+" , c:"+this.c+"}"};SimpleGeometry.Triangle.prototype.containsVertex=function(b){return(this.a.x==b.x&&this.a.y==b.y)||(this.b.x==b.x&&this.b.y==b.y)||(this.c.x==b.x&&this.c.y==b.y)};SimpleGeometry.Triangle.prototype.sharesEdge=function(c){var b=0;if(this.containsVertex(c.a)){b++}if(this.containsVertex(c.b)){b++}if(this.containsVertex(c.c)){b++}return b==2};SimpleGeometry.Rectangle=function(c,e,d,b){this.x=c;this.y=e;this.width=d;this.height=b};SimpleGeometry.Rectangle.prototype.getRight=function(){return this.x+this.width};SimpleGeometry.Rectangle.prototype.getBottom=function(){return this.y+this.height};SimpleGeometry.Rectangle.prototype.containsPoint=function(b){return b.x>this.x&&b.y>this.y&&b.x<this.getRight()&&b.y<this.getBottom()};SimpleGeometry.Rectangle.prototype.getCenter=function(){return new SimpleGeometry.Point(this.x+this.width/2,this.y+this.height/2)};SimpleGeometry.Rectangle.prototype.clone=function(){return new SimpleGeometry.Rectangle(this.x,this.y,this.width,this.height)};SimpleGeometry.Rectangle.prototype.toString=function(){return"Rectangle{x:"+this.x+" , y:"+this.y+" , width:"+this.width+" , height:"+this.height+"}"};a.SimpleGeometry=SimpleGeometry;SimpleGeometry.Circle=function(c,d,b){this.radius=isNaN(b)?10:b;SimpleGeometry.Point.call(this,c,d)};SimpleGeometry.Circle.prototype=Object.create(SimpleGeometry.Point.prototype);SimpleGeometry.Circle.prototype.constructor=SimpleGeometry.Point;SimpleGeometry.Circle.prototype.getRandomPointInCircle=function(){var c=Math.random()*this.radius;var d=Math.random()*SimpleGeometry.PI2;var b=this.x+Math.cos(d)*c;var e=this.y+Math.sin(d)*c;return new SimpleGeometry.Point(b,e)};SimpleGeometry.Circle.prototype.clone=function(){return new SimpleGeometry.Circle(this.x,this.y,this.radius)};SimpleGeometry.Transform=function(f,g,e,d,c,b){this.update(isNaN(f)?1:f,isNaN(g)?0:g,isNaN(e)?0:e,isNaN(d)?1:d,isNaN(c)?0:c,isNaN(b)?0:b)};SimpleGeometry.Transform.prototype.update=function(f,g,e,d,c,b){this.scaleX=f;this.skewX=g;this.skewY=e;this.scaleY=d;this.tx=c;this.ty=b};SimpleGeometry.Transform.prototype.toString=function(){return"SimpleGeometry.Transform{scaleX:"+this.scaleX+" ,skewX:"+this.skewX+" ,skewY:"+this.skewY+" ,scaleY:"+this.scaleY+" ,tx:"+this.tx+" ,ty:"+this.ty+"}"};SimpleGeometry.Point2d=function(b,d,c){this.x=isNaN(b)?0:b;this.y=isNaN(d)?0:d;this.t=isNaN(c)?0:c};SimpleGeometry.Point2d.prototype.toString=function(){return"x: "+this.x+", y: "+this.y+", t: "+this.t};SimpleGeometry.Point3d=function(b,d,c){this.x=isNaN(b)?0:b;this.y=isNaN(d)?0:d;this.z=isNaN(c)?0:c};SimpleGeometry.Point3d.prototype.clone=function(){return new SimpleGeometry.Point3d(this.x,this.y,this.z)};SimpleGeometry.Point3d.prototype.copyValuesTo=function(b){b.x=this.x;b.y=this.y;b.z=this.z};SimpleGeometry.Point3d.prototype.updateValues=function(b,d,c){this.x=b;this.y=d;this.z=c};SimpleGeometry.Point3d.prototype.equals=function(b){return this.x==b.x&&this.y==b.y&&this.z==b.z};SimpleGeometry.Point3d.prototype.project=function(e,h){var c=e/(e+this.z);if(!h){h=new SimpleGeometry.Point(0,0)}var d=h.x;var f=h.y;var b=this.x;var g=this.y;b-=d;g-=f;b=(b*c)+d;g=(g*c)+f;console.log("Point3d.project()",c,h.toString(),d,f,b,g);return new SimpleGeometry.Point2d(b,g,c)};SimpleGeometry.Point3d.prototype.toString=function(){return"{x:"+this.x+" , y:"+this.y+" , z:"+this.z+"}"};a.SimpleGeometry=SimpleGeometry}(window));