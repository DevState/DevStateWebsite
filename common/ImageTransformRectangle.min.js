(function(a){Simple3DCard=function(){};Simple3DCard=function(c,f,d,b,e){SimpleGeometry.Rectangle.call(this,c,f,d,b);this.image=e};Simple3DCard.prototype=Object.create(SimpleGeometry.Rectangle.prototype);Simple3DCard.prototype.constructor=SimpleGeometry.Rectangle;Simple3DCard.prototype.loadImages=function(d,b,c){this.urls=d;this.completeCallback=b;this.updateCallback=c!=undefined?c:undefined;this.images=[];this.currentLoadIndex=0;this.loadNextImage()};Simple3DCard.prototype.stop=function(){this.completeCallback=undefined;this.updateCallback=undefined;this.urls=[]};Simple3DCard.prototype.getProgressPercent=function(){return SimpleGeometry.normalize(this.currentLoadIndex,0,this.urls.length)};Simple3DCard.prototype.getProgressString=function(){return this.currentLoadIndex+" / "+this.urls.length};Simple3DCard.prototype.loadNextImage=function(){if(this.currentLoadIndex>=this.urls.length){this.completeCallback();return}var c=new Image();var d=this;c.onload=function(){d.imageLoadComplete()};var b=this.urls[this.currentLoadIndex];c.onerror=function(){alert("Simple3DCard ERROR : "+b+" could not be loaded.")};c.src=this.urls[this.currentLoadIndex];this.images.push(c);this.currentLoadIndex++};Simple3DCard.prototype.imageLoadComplete=function(){for(var b=0;b<this.images.length;b++){this.images[b].onload=undefined}if(this.updateCallback!=undefined){this.updateCallback()}this.loadNextImage()};a.Simple3DCard=Simple3DCard}(window));