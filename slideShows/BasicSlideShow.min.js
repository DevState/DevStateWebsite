(function(a){BasicSlideShow=function(e,g,f,d,c,b){SimpleGeometry.Rectangle.call(this,e,g,f,d);this.background=new ChartBackground(e,g,f,d);this.context2d=c;if(b){this.setImages(b)}this.animator=new UnitAnimator();this.arrows=new ArrowButtons(this,25,35,20);this.arrows.strokeStyle=SimpleGeometry.getRgbaStyleString(0,0,0,0.8);this.arrows.fillStyle=SimpleGeometry.getRgbaStyleString(255,255,255,0.5);this.currentIndex=0};BasicSlideShow.prototype=Object.create(SimpleGeometry.Rectangle.prototype);BasicSlideShow.prototype.constructor=SimpleGeometry.Rectangle;BasicSlideShow.NEXT_DIRECTION=-1;BasicSlideShow.PREV_DIRECTION=1;BasicSlideShow.prototype.next=function(){if(this.animator.isAnimating()){return}if(this.hasNext()){this.slide(BasicSlideShow.NEXT_DIRECTION)}};BasicSlideShow.prototype.previous=function(){if(this.animator.isAnimating()){return}if(this.hasPrevious()){this.slide(BasicSlideShow.PREV_DIRECTION)}};BasicSlideShow.prototype.hasNext=function(){return this.images&&this.currentIndex<this.images.length-1};BasicSlideShow.prototype.hasPrevious=function(){return this.images&&this.currentIndex>0};BasicSlideShow.prototype.setImages=function(b){this.images=b;var c=document.createElement("canvas");for(var d=0;d<this.images.length;d++){ImageEffects.resizeImageDestructive(this.images[d],c,this.width,this.height)}this.currentIndex=0;this.skipToIndex(this.currentIndex)};BasicSlideShow.prototype.skipToIndex=function(b){this.context2d.drawImage(this.images[b],this.x,this.y,this.width,this.height);this.currentIndex=b;this.arrows.render(this.context2d,!this.hasPrevious(),!this.hasNext())};BasicSlideShow.prototype.slide=function(b){this.slideDirection=b;if(b==BasicSlideShow.NEXT_DIRECTION){this.leftImage=this.images[this.currentIndex];this.rightImage=this.images[this.currentIndex+1]}else{this.leftImage=this.images[this.currentIndex-1];this.rightImage=this.images[this.currentIndex]}var c=this;this.animator.reset(1000,20,function(){c.updateSlide()},function(){c.slideComplete()});this.animator.start()};BasicSlideShow.prototype.updateSlide=function(){if(this.slideDirection==BasicSlideShow.NEXT_DIRECTION){this.updateSlideNext()}else{this.updateSlidePrevious()}};BasicSlideShow.prototype.updateSlideNext=function(){var b=this.leftImage.width*this.animator.getAnimationPercent();var c=this.width*this.animator.getAnimationPercent();if(c<this.width){this.context2d.drawImage(this.leftImage,b,0,this.leftImage.width-b,this.leftImage.height,this.x,this.y,this.width-c,this.height)}this.context2d.drawImage(this.rightImage,0,0,b,this.rightImage.height,this.getRight()-c,this.y,c,this.height)};BasicSlideShow.prototype.updateSlidePrevious=function(){var b=this.leftImage.width-this.leftImage.width*this.animator.getAnimationPercent();var c=this.width-this.width*this.animator.getAnimationPercent();this.context2d.drawImage(this.leftImage,b,0,this.leftImage.width-b,this.leftImage.height,this.x,this.y,this.width-c,this.height);if(c>0){this.context2d.drawImage(this.rightImage,0,0,b,this.rightImage.height,this.getRight()-c,this.y,c,this.height)}};BasicSlideShow.prototype.slideComplete=function(){this.currentIndex-=this.slideDirection;this.arrows.render(this.context2d,!this.hasPrevious(),!this.hasNext())};a.BasicSlideShow=BasicSlideShow}(window));